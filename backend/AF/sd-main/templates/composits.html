
{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
     
    <title>AFTER EFFECT</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Main CSS-->
    <link rel="stylesheet" type="text/css" href="{% static  'assets/css/main.css'%}">
    <!-- Font-icon css-->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  </head>
  <body class="app sidebar-mini">
    <!-- Navbar-->
    <header class="app-header"> 
      <!-- Sidebar toggle button--><a class="app-sidebar__toggle" href="#" data-toggle="sidebar" aria-label="Hide Sidebar"></a>
      <!-- Navbar Right Menu-->
      <ul class="app-nav">
        <li class="app-search">
          <input class="app-search__input" type="search" placeholder="Search">
          <button class="app-search__button"><i class="bi bi-search"></i></button>
        </li>
        <!--Notification Menu-->
        <li class="dropdown"><a class="app-nav__item" href="#" data-bs-toggle="dropdown" aria-label="Show notifications"><i class="bi bi-bell fs-5"></i></a>
          <ul class="app-notification dropdown-menu dropdown-menu-right">
            <li class="app-notification__title">You have 4 new notifications.</li>
            <div class="app-notification__content">
              <li><a class="app-notification__item" href="javascript:;"><span class="app-notification__icon"><i class="bi bi-envelope fs-4 text-primary"></i></span>
                  <div>
                    <p class="app-notification__message">Lisa sent you a mail</p>
                    <p class="app-notification__meta">2 min ago</p>
                  </div></a></li>
              <li><a class="app-notification__item" href="javascript:;"><span class="app-notification__icon"><i class="bi bi-exclamation-triangle fs-4 text-warning"></i></span>
                  <div>
                    <p class="app-notification__message">Mail server not working</p>
                    <p class="app-notification__meta">5 min ago</p>
                  </div></a></li>
              <li><a class="app-notification__item" href="javascript:;"><span class="app-notification__icon"><i class="bi bi-cash fs-4 text-success"></i></span>
                  <div>
                    <p class="app-notification__message">Transaction complete</p>
                    <p class="app-notification__meta">2 days ago</p>
                  </div></a></li>
              <li><a class="app-notification__item" href="javascript:;"><span class="app-notification__icon"><i class="bi bi-envelope fs-4 text-primary"></i></span>
                  <div>
                    <p class="app-notification__message">Lisa sent you a mail</p>
                    <p class="app-notification__meta">2 min ago</p>
                  </div></a></li>
              <li><a class="app-notification__item" href="javascript:;"><span class="app-notification__icon"><i class="bi bi-exclamation-triangle fs-4 text-warning"></i></span>
                  <div>
                    <p class="app-notification__message">Mail server not working</p>
                    <p class="app-notification__meta">5 min ago</p>
                  </div></a></li>
              <li><a class="app-notification__item" href="javascript:;"><span class="app-notification__icon"><i class="bi bi-cash fs-4 text-success"></i></span>
                  <div>
                    <p class="app-notification__message">Transaction complete</p>
                    <p class="app-notification__meta">2 days ago</p>
                  </div></a></li>
            </div>
            <li class="app-notification__footer"><a href="#">See all notifications.</a></li>
          </ul>
        </li>
        <!-- User Menu-->
        <li class="dropdown"><a class="app-nav__item" href="#" data-bs-toggle="dropdown" aria-label="Open Profile Menu"><i class="bi bi-person fs-4"></i></a>
          <ul class="dropdown-menu settings-menu dropdown-menu-right">
            <li><a class="dropdown-item" href="javascript:void(0)"><i class="bi bi-gear me-2 fs-5"></i> Settings</a></li>
            <li><a class="dropdown-item" href="javascript:void(0)"><i class="bi bi-person me-2 fs-5"></i> Profile</a></li>
            <li><a class="dropdown-item" href="javascript:void(0)"><i class="bi bi-box-arrow-right me-2 fs-5"></i> Logout</a></li>
          </ul>
        </li>
      </ul>
    </header>
    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
      <div class="app-sidebar__user"><img class="app-sidebar__user-avatar" src="https://randomuser.me/api/portraits/men/1.jpg" alt="User Image">
        <div>
          <p class="app-sidebar__user-name">John Doe</p>
          <p class="app-sidebar__user-designation">Frontend Developer</p>
        </div>
      </div>
      <ul class="app-menu">
        <li><a class="app-menu__item" href="javascript:void(0)"><i class="app-menu__icon bi bi-speedometer"></i><span class="app-menu__label">Dashboard</span></a></li>
      
      
     
        <li><a class="app-menu__item" href="/"><i class="app-menu__icon bi bi-code-square"></i><span class="app-menu__label">Projects</span></a></li>
      </ul>
    </aside>
    <main class="app-content"  >
      <div class="app-title">
        <div>
          <h1><i class="bi bi-speedometer"></i>All Projects</h1>
          <p>View all projects here</p>
        </div>
        <ul class="app-breadcrumb breadcrumb">
          <li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
          <li class="breadcrumb-item"><a href="#">All Projects</a></li>
        </ul>
      </div>
      <div class="row">
        <div  class="col-5"></div> 
      <div class="col-1">
          <label class="form-label" for="composits">{{message}}</label>
          <select class="form-control" id="composits"  >
            
            {%for composit in data%}
            <option value="{{composit.id}}">{{composit.composite_name}}</option>
             
            {% endfor%}
          </select><br>
        </div> 
       <div  class="col-4">
        
        </div>
        
        <div class="row" id="app">
          <div class="col-md-12">
            <div class="tile">
              <div class="tile-body">
                <div class="table-responsive">
                  <table class="table table-hover table-bordered" id="sampleTable">
                    <thead>
                      <tr>
                        <th>Layer_name</th>
                        <th>layer_type</th>
                        <th>layer_posx</th>
                        <th>layer_posy</th>
                        <th>layer_color</th>
                        <th>layer_size</th>
                        <th>text</th>
                        <th>width</th>
                        <th>height</th>
                        <th>image</th>
                      </tr>
                    </thead>
                    <tbody id="layerbody">
                      
                   
                  
                      
                      
                      
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
       
       
          
      </div>
    </main>
    <!-- Essential javascripts for application to work-->
    <script src="{% static 'assets/js/jquery-3.7.0.min.js' %}"></script>
    <script src="{% static 'assets/js/bootstrap.min.js'%}"></script>
    <script src="{% static 'assets/js/main.js'%}"></script>
 
    <!-- Page specific javascripts-->
    <!-- Google analytics script-->
 <script>
 $(document).ready(function(){

 function Layers(compid){

    url = "/projects/pdata/?composit="+compid
    $.get(url, function(data){
        tabledata=''
        $.each(data, function(index, itemData) {
         tabledata += "<tr>\
                       <td>"+itemData.layer_name+"</td>\
                       <td>"+itemData.layer_type+"</td>\
                       <td>"+itemData.layer_posx+"</td>\
                       <td>"+itemData.layer_posy+"</td>\
                       <td>"+itemData.layer_color+"</td>\
                       <td>"+itemData.layer_size+"</td>\
                       <td>"+itemData.text+"</td>\
                       <td>"+itemData.width+"</td>\
                       <td>"+itemData.height+"</td>\
                       <td>"+itemData.image+"</td>\
                       </tr>"
        })
        $("#layerbody").html(tabledata)

    })


 }
 <!------------------------------------->
 $("#composits").change(function(){
         
          Layers($(this).val())
 })

 Layers($("#composits").val())
 
 })


 
 </script>
  
 
  </body>
</html>